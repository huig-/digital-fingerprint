En este capítulo se describen las pruebas realizadas para identificación de la fuente en vídeos, introduciendo previamente un ejemplo con fotografías que pone de manifiesto el impacto de la compresión en la extracción del PRNU. \\

La tabla \ref{tabla:fotos} muestra el conjunto de cámaras de fotografía utilizado para la extracción del ruido para varios parámetros de compresión distintos. \\

\begin{table}[!htb]
    \centering
        \begin{tabular}{|c|c|}
        \hline
        \rowcolor[gray]{0.9}\textbf{Cámara} & \textbf{Formato} \\ 
        \hline
        Canon 60D & .TIF \\ 
        \hline
        Nikon D90 & .TIF \\ 
        \hline
        Nikon D7000 & .TIF \\ 
        \hline
        Sony A57 & .TIF \\ 
        \hline
        \end{tabular}
    \caption{Cámaras de fotografía}
    \label{tabla:fotos}
\end{table}

La tabla \ref{tabla:videos} muestra el conjunto de cámaras móviles que se ha utilizado para generar distintos \textit{datasets} para la identificación de la fuente en vídeo. \\

\begin{table}[!htb]
    \centering
        \begin{tabular}{|l|l|c|c|c|}
        \hline
        \rowcolor[gray]{0.9}
        \textbf{Marca} & \textbf{Modelo} & \textbf{Formato} & \textbf{Tama\~no GOP} & \textbf{Número de vídeos disponibles} \\ \hline
        BQ & Aquaris E5 & .mp4 & - & 10 \\ \hline
        Samsung & G6 & .mp4 & - & 10 \\ \hline
        Iphone & 7 & .mov & - & 10 \\ \hline
        Huawei & Y635 L01 & .mp4 & - & 10 \\ \hline
        Iphone & 8 Plus & .mov & - & 8 \\ \hline
        Nexus & 5 & .mp4 & - & 10 \\ \hline
        Xiomi & M3 & .mp4 & - & 13 \\ \hline
        \end{tabular}
    \caption{Cámaras de vídeo de móviles}
    \label{tabla:videos}
\end{table}

\section{Experimento compresión}
Este experimento pretende poner de manifiesto el impacto de la compresión en la calidad de la huella extraída de las imágenes. Para eso se parte de imágenes en buena calidad en formato .TIF y se transforman a calidad $90$, calidad $85$ y calidad $80$ formato jpeg. En todos los casos se extrae el PRNU de cada una de las imágenes y se aplica clustering jerárquico utilizando el coeficiente silueta para la elección del número óptimo de clusters. \\

Sin modificar la calidad de las imágenes el resultado del clustering se puede ver en \ref{tabla:compresion100}.

\begin{table}[!htb]
    \centering
        \begin{tabular}{|l|c|c|c|c|}
        \hline
        \rowcolor[gray]{0.9}
        \textbf{Marca y Modelo} & 1 & 2 & 3 & 4 \\ \hline
        Canon 60D & 35 & 0 & 0 & 0 \\ \hline
        Nikon D90 & 0 & 1 & 34 & 0 \\ \hline
        Nikon D7000 & 0 & 35 & 0 & 0 \\ \hline
        Sony A57 & 0 & 0 & 0 & 35 \\ \hline
        \end{tabular}
    \caption{Clustering con imágenes formato .TIF}
    \label{tabla:compresion100}
\end{table}

En \ref{tabla:compresion90} están los resultados para las mismas imágenes en formato jpeg calidad $90\%$.

\begin{table}[!htb]
    \centering
        \begin{tabular}{|l|c|c|c|c|c|}
        \hline
        \rowcolor[gray]{0.9}
        \textbf{Marca y Modelo} & 1 & 2 & 3 & 4 & 5\\ \hline
        Canon 60D & 27 & 4 & 3 & 1 & 0 \\ \hline
        Nikon D90 & 4 & 4 & 26 & 1 & 0 \\ \hline
        Nikon D7000 & 5 & 4 & 4 & 2 & 20 \\ \hline
        Sony A57 & 0 & 27 & 4 & 4 & 0 \\ \hline
        \end{tabular}
    \caption{Clustering jpeg calidad $90\%$}
    \label{tabla:compresion90}
\end{table}

Como se puede observar la compresión al $90\%$ empeora bastante los resultados iniciales, creando clusters no homogéneos y dispersos. Los resultados para calidad $85\%$ y calidad $80\%$ se pueden ver en \ref{tabla:compresion85} y \ref{tabla:compresion80}, respectivamente. Como se puede observar el impacto de la compresión es muy grande.

\begin{table}[!htb]
    \centering
        \begin{tabular}{|l|c|c|c|c|c|c|c|c|}
        \hline
        \rowcolor[gray]{0.9}
        \textbf{Marca y Modelo} & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\ \hline
        Canon 60D & 24 & 2 & 4 & 1 & 2 & 1 & 1 & 0 \\ \hline
        Nikon D90 & 2 & 22 & 3 & 1 & 0 & 1 & 4 & 2 \\ \hline
        Nikon D7000 & 3 & 3 & 6 & 3 & 8 & 1 & 8 & 3 \\ \hline
        Sony A57 & 3 & 1 & 5 & 5 & 13 & 1 & 7 & 0 \\ \hline
        \end{tabular}
    \caption{Clustering jpeg calidad $85\%$}
    \label{tabla:compresion85}
\end{table}

\begin{table}[!htb]
    \centering
        \begin{tabular}{|l|c|c|c|c|c|c|c|c|c|c|}
        \hline
        \rowcolor[gray]{0.9}
        \textbf{Marca y Modelo} & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10\\ \hline
        Canon 60D & 3 & 6 & 6 & 4 & 3 & 10 & 2 & 1 & 0 & 0 \\ \hline
        Nikon D90 & 12 & 4 & 2 & 0 & 4 & 2 & 1 & 5 & 0 & 5 \\ \hline
        Nikon D7000 & 1 & 1 & 0 & 3 & 6 & 13 & 2 & 3 & 5 & 1 \\ \hline
        Sony A57 & 3 & 0 & 0 & 5 & 13 & 4 & 1 & 6 & 2 & 1 \\ \hline
        \end{tabular}
    \caption{Clustering jpeg calidad $85\%$}
    \label{tabla:compresion85}
\end{table}

\section{Experimentos clustering de vídeo}

Se han realizado $10$ experimentos con las combinaciones que aparecen en la tabla \ref{tabla:10exp}.

\begin{table}[!htb]
    \tiny
    \centering
        \begin{tabular}{|l|c|c|c|c|c|c|c|}
        \hline
        \rowcolor[gray]{0.9}
        \textbf{Exp.} & \textbf{BQ Aquaris E5} & \textbf{Samsung G6} & \textbf{Iphone 7} & \textbf{Huawei Y635 L01} & \textbf{Iphone 8+} & \textbf{Nexus 5} & \textbf{Xiomi M3} \\ \hline
        1 & 5 & 5 & 5 & 0 & 4 & 0 & 0 \\ \hline
        2 & 8 & 8 & 0 & 8 & 7 & 0 & 0 \\ \hline
        3 & 0 & 0 & 0 & 0 & 5 & 5 & 0 \\ \hline
        4 & 7 & 7 & 7 & 0 & 7 & 0 & 0 \\ \hline
        5 & 5 & 5 & 5 & 0 & 5 & 0 & 0 \\ \hline
        6 & 4 & 4 & 4 & 0 & 3 & 0 & 0 \\ \hline
        7 & 9 & 9 & 9 & 9 & 8 & 0 & 0 \\ \hline
        8 & 6 & 6 & 0 & 6 & 5 & 0 & 0 \\ \hline
        9 & 6 & 6 & 0 & 6 & 6 & 6 & 6 \\ \hline
        10 & 5 & 5 & 5 & 5 & 5 & 5 & 0 \\ \hline
        11 & 5 & 5 & 0 & 5 & 0 & 5 & 0 \\ \hline
        12 & 9 & 9 & 0 & 9 & 0 & 9 & 0 \\ \hline
        13 & 9 & 9 & 0 & 9 & 0 & 9 & 0 \\ \hline
        14 & 0 & 5 & 5 & 5 & 0 & 5 & 5 \\ \hline
        15 & 0 & 5 & 5 & 0 & 0 & 5 & 0 \\ \hline
        16 & 6 & 6 & 6 & 0 & 5 & 6 & 0 \\ \hline
        16 & 0 & 0 & 0 & 5 & 5 & 6 & 0 \\ \hline
        \end{tabular}
    \caption{Datasets utilizados para identificación en vídeo}
    \label{tabla:10exp}
\end{table}

Los resultados se pueden ver en \ref{tabla:resultados}

\begin{table}[!htb]
    \centering
        \begin{tabular}{| c | c || c | c || c | c || c | c ||}
        \hline
        %\rowcolor[gray]{0.9}
        \multirow{2}{*}{Exp.} & \multirow{2}{*}{k} & \multicolumn{2}{c||}{Calinski-Harabasz} & \multicolumn{2}{c||}{Coeficiente Silueta} & \multicolumn{2}{c||}{Método del codo} \\ 
        \cline{3-8}
          &   & N. Clusters & TPR & N. Clusters & TPR  & N. Clusters & TPR \\ \hline
        1 & 5 & 2           &  & 2 & 0.75 & 6 & 0.62  \\ \hline 
        2 & 7 & 2           & 0.28 & 12 & 0.35  & 6 & 0.61 \\ \hline 
        \end{tabular}
    \caption{Resultados clustering según distintos métodos}
    \label{tabla:resultados}
\end{table}
